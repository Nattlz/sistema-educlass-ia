<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Tareas - Profesor</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/task-management.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar (mismo del dashboard principal) -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Universidad</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item">
                        <a href="dashboard.html">
                            <i class="fas fa-home"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" data-section="materias">
                            <i class="fas fa-book"></i>
                            <span>Mis Materias</span>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="#" data-section="tareas">
                            <i class="fas fa-tasks"></i>
                            <span>Gestión de Tareas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" data-section="evaluaciones">
                            <i class="fas fa-clipboard-check"></i>
                            <span>Evaluaciones</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" data-section="estudiantes">
                            <i class="fas fa-users"></i>
                            <span>Estudiantes</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" data-section="reportes">
                            <i class="fas fa-chart-bar"></i>
                            <span>Reportes</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Cerrar Sesión</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="topbar">
                <div class="topbar-left">
                    <button class="menu-toggle" id="menuToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 id="pageTitle">Gestión de Tareas</h1>
                </div>

                <div class="topbar-right">
                    <div class="user-profile">
                        <div class="user-avatar">
                            <img src="https://via.placeholder.com/40x40/4F46E5/white?text=P1" alt="Profesor"
                                id="userAvatar">
                        </div>
                        <div class="user-info">
                            <span class="user-name" id="userName">Dr. Ana Martínez</span>
                            <span class="user-role" id="userRole">Profesor</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Wrapper -->
            <div class="content-wrapper">
                <!-- Navigation Tabs -->
                <div class="tab-navigation">
                    <button class="tab-btn active" data-tab="overview">
                        <i class="fas fa-overview"></i>
                        Resumen
                    </button>
                    <button class="tab-btn" data-tab="create-task">
                        <i class="fas fa-plus-circle"></i>
                        Nueva Tarea
                    </button>
                    <button class="tab-btn" data-tab="rubrics">
                        <i class="fas fa-table"></i>
                        Rúbricas
                    </button>
                    <button class="tab-btn" data-tab="submissions">
                        <i class="fas fa-file-alt"></i>
                        Entregas
                    </button>
                </div>

                <!-- Tab Content: Overview -->
                <div class="tab-content active" id="overview">
                    <div class="overview-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalTasks">12</h3>
                                <p>Tareas Activas</p>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="pendingReview">8</h3>
                                <p>Por Revisar</p>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalStudents">45</h3>
                                <p>Estudiantes</p>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="averageGrade">8.3</h3>
                                <p>Promedio General</p>
                            </div>
                        </div>
                    </div>

                    <!-- Materia Base de Datos -->
                    <div class="subject-section">
                        <div class="subject-header">
                            <h2><i class="fas fa-database"></i> Base de Datos (BD001)</h2>
                            <span class="subject-info">Semestre 3 • 4 Créditos • 45 estudiantes</span>
                        </div>

                        <!-- Bloque 1 -->
                        <div class="block-container">
                            <div class="block-header">
                                <h3>Bloque 1: Fundamentos de las bases de datos</h3>
                                <div class="block-progress">
                                    <span>Progreso: 1/3 sesiones completadas</span>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 33%"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="sessions-grid">
                                <!-- Sesión 1 -->
                                <div class="session-card completed">
                                    <div class="session-header">
                                        <div class="session-number">1</div>
                                        <div class="session-info">
                                            <h4>Introducción a las bases de datos y lenguaje SQL</h4>
                                            <p class="session-subtopic">Conceptos básicos de bases de datos</p>
                                            <span class="session-status"><i class="fas fa-check-circle"></i>
                                                Completada</span>
                                        </div>
                                    </div>

                                    <div class="session-tasks">
                                        <div class="task-item">
                                            <div class="task-info">
                                                <h5>Presentación Grupal: Conceptos Fundamentales de BD</h5>
                                                <div class="task-meta">
                                                    <span><i class="fas fa-table"></i> Evaluación por Rúbrica</span>
                                                    <span><i class="fas fa-calendar"></i> Fecha límite: 15 Sept
                                                        2025</span>
                                                    <span><i class="fas fa-users"></i> 12 equipos</span>
                                                </div>
                                            </div>
                                            <div class="task-actions">
                                                <button class="btn btn-sm btn-primary" onclick="viewRubric(1)">
                                                    <i class="fas fa-eye"></i> Ver Rúbrica
                                                </button>
                                                <button class="btn btn-sm btn-success" onclick="viewSubmissions(1)">
                                                    <i class="fas fa-file-alt"></i> Entregas (12)
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Sesión 2 -->
                                <div class="session-card">
                                    <div class="session-header">
                                        <div class="session-number">2</div>
                                        <div class="session-info">
                                            <h4>Introducción a las bases de datos y lenguaje SQL</h4>
                                            <p class="session-subtopic">Sintaxis básica de SQL: SELECT, FROM, WHERE</p>
                                            <span class="session-status"><i class="fas fa-clock"></i> Programada</span>
                                        </div>
                                    </div>

                                    <div class="session-actions">
                                        <button class="btn btn-outline-primary" onclick="createTask(2)">
                                            <i class="fas fa-plus"></i> Crear Tarea
                                        </button>
                                        <button class="btn btn-outline-secondary">
                                            <i class="fas fa-edit"></i> Editar Sesión
                                        </button>
                                    </div>
                                </div>

                                <!-- Sesión 3 -->
                                <div class="session-card">
                                    <div class="session-header">
                                        <div class="session-number">3</div>
                                        <div class="session-info">
                                            <h4>Operaciones básicas en SQL (CRUD)</h4>
                                            <p class="session-subtopic">INSERT, UPDATE, DELETE</p>
                                            <span class="session-status"><i class="fas fa-clock"></i> Programada</span>
                                        </div>
                                    </div>

                                    <div class="session-actions">
                                        <button class="btn btn-outline-primary" onclick="createTask(3)">
                                            <i class="fas fa-plus"></i> Crear Tarea
                                        </button>
                                        <button class="btn btn-outline-secondary">
                                            <i class="fas fa-edit"></i> Editar Sesión
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Create Task -->
                <div class="tab-content" id="create-task">
                    <div class="form-container">
                        <h2>Crear Nueva Tarea</h2>

                        <form id="taskForm" class="task-form">
                            <!-- Información Básica -->
                            <div class="form-section">
                                <h3>Información Básica</h3>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="taskSession">Sesión</label>
                                        <select id="taskSession" name="session_id" required>
                                            <option value="">Seleccionar sesión...</option>
                                            <option value="1">Sesión 1: Conceptos básicos de bases de datos</option>
                                            <option value="2">Sesión 2: Sintaxis básica de SQL</option>
                                            <option value="3">Sesión 3: Operaciones básicas en SQL</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label for="taskType">Tipo de Evaluación</label>
                                        <select id="taskType" name="tipo_evaluacion" required>
                                            <option value="rubrica">Rúbrica</option>
                                            <option value="examen">Examen</option>
                                            <option value="proyecto">Proyecto</option>
                                            <option value="participacion">Participación</option>
                                            <option value="tarea">Tarea</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="taskTitle">Título de la Tarea</label>
                                    <input type="text" id="taskTitle" name="titulo" required
                                        placeholder="Ej: Presentación Grupal: Conceptos Fundamentales">
                                </div>

                                <div class="form-group">
                                    <label for="taskDescription">Descripción</label>
                                    <textarea id="taskDescription" name="descripcion" rows="3"
                                        placeholder="Describe brevemente la actividad..."></textarea>
                                </div>

                                <div class="form-group">
                                    <label for="taskInstructions">Instrucciones Detalladas</label>
                                    <textarea id="taskInstructions" name="instrucciones" rows="5"
                                        placeholder="Instrucciones paso a paso para los estudiantes..."></textarea>
                                </div>
                            </div>

                            <!-- Configuración de Fechas -->
                            <div class="form-section">
                                <h3>Fechas y Entregas</h3>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="dueDate">Fecha de Entrega</label>
                                        <input type="datetime-local" id="dueDate" name="fecha_entrega" required>
                                    </div>

                                    <div class="form-group">
                                        <label for="lateDate">Fecha Límite (Entregas Tardías)</label>
                                        <input type="datetime-local" id="lateDate" name="fecha_limite">
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="maxScore">Puntaje Máximo</label>
                                        <input type="number" id="maxScore" name="puntaje_maximo" value="10" min="1"
                                            max="100" step="0.5">
                                    </div>

                                    <div class="form-group">
                                        <div class="checkbox-group">
                                            <label class="checkbox-label">
                                                <input type="checkbox" id="allowLate" name="permite_entrega_tardia">
                                                <span class="checkbox-custom"></span>
                                                Permitir entregas tardías
                                            </label>
                                        </div>
                                        <div class="form-group-inline" id="latePenaltyGroup" style="display: none;">
                                            <label for="latePenalty">Descuento (%)</label>
                                            <input type="number" id="latePenalty" name="descuento_entrega_tardia"
                                                value="10" min="0" max="100" step="5">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Configuración de Archivos -->
                            <div class="form-section">
                                <h3>Configuración de Archivos</h3>

                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="requireFiles" name="archivos_requeridos">
                                        <span class="checkbox-custom"></span>
                                        Requiere archivos adjuntos
                                    </label>
                                </div>

                                <div id="fileConfigGroup" style="display: none;">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="allowedFormats">Formatos Permitidos</label>
                                            <div class="format-checkboxes">
                                                <label><input type="checkbox" name="formats" value="pdf"> PDF</label>
                                                <label><input type="checkbox" name="formats" value="doc"> DOC</label>
                                                <label><input type="checkbox" name="formats" value="docx"> DOCX</label>
                                                <label><input type="checkbox" name="formats" value="txt"> TXT</label>
                                                <label><input type="checkbox" name="formats" value="jpg"> JPG</label>
                                                <label><input type="checkbox" name="formats" value="png"> PNG</label>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="maxFileSize">Tamaño Máximo (MB)</label>
                                            <input type="number" id="maxFileSize" name="tamano_maximo_mb" value="10"
                                                min="1" max="100">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Botones de Acción -->
                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="cancelTaskCreation()">
                                    <i class="fas fa-times"></i> Cancelar
                                </button>
                                <button type="button" class="btn btn-outline-primary" onclick="saveTaskAsDraft()">
                                    <i class="fas fa-save"></i> Guardar Borrador
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-check"></i> Crear Tarea
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Tab Content: Rubrics -->
                <div class="tab-content" id="rubrics">
                    <div class="rubrics-container">
                        <div class="section-header">
                            <h2>Rúbricas de Evaluación</h2>
                            <button class="btn btn-primary" onclick="createNewRubric()">
                                <i class="fas fa-plus"></i> Nueva Rúbrica
                            </button>
                        </div>

                        <!-- Rúbrica Existente -->
                        <div class="rubric-card">
                            <div class="rubric-header">
                                <h3>Rúbrica: Presentación Conceptos Fundamentales de BD</h3>
                                <div class="rubric-meta">
                                    <span><i class="fas fa-calendar"></i> Creada: 1 Sept 2025</span>
                                    <span><i class="fas fa-tasks"></i> Tarea: Presentación Grupal</span>
                                    <span><i class="fas fa-users"></i> 12 equipos evaluados</span>
                                </div>
                                <div class="rubric-actions">
                                    <button class="btn btn-sm btn-outline-primary" onclick="editRubric(1)">
                                        <i class="fas fa-edit"></i> Editar
                                    </button>
                                    <button class="btn btn-sm btn-primary" onclick="viewFullRubric(1)">
                                        <i class="fas fa-eye"></i> Ver Completa
                                    </button>
                                </div>
                            </div>

                            <div class="rubric-preview">
                                <div class="criteria-summary">
                                    <div class="criterion-item">
                                        <span class="criterion-name">Dominio del tema</span>
                                        <span class="criterion-weight">25%</span>
                                    </div>
                                    <div class="criterion-item">
                                        <span class="criterion-name">Participación en equipo</span>
                                        <span class="criterion-weight">20%</span>
                                    </div>
                                    <div class="criterion-item">
                                        <span class="criterion-name">Argumentación y claridad</span>
                                        <span class="criterion-weight">20%</span>
                                    </div>
                                    <div class="criterion-item">
                                        <span class="criterion-name">Trabajo colaborativo</span>
                                        <span class="criterion-weight">20%</span>
                                    </div>
                                    <div class="criterion-item">
                                        <span class="criterion-name">Actitud/disposición</span>
                                        <span class="criterion-weight">15%</span>
                                    </div>
                                </div>

                                <div class="performance-levels">
                                    <div class="level-badge level-excellent">Excelente (10)</div>
                                    <div class="level-badge level-very-good">Muy bueno (9)</div>
                                    <div class="level-badge level-acceptable">Aceptable (8)</div>
                                    <div class="level-badge level-regular">Regular (7)</div>
                                    <div class="level-badge level-failing">Reprobatorio (≤6)</div>
                                </div>
                            </div>

                            <div class="rubric-stats">
                                <div class="stat-item">
                                    <span class="stat-value">8.4</span>
                                    <span class="stat-label">Promedio General</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value">12</span>
                                    <span class="stat-label">Evaluaciones</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value">92%</span>
                                    <span class="stat-label">Tasa de Aprobación</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Content: Submissions -->
                <div class="tab-content" id="submissions">
                    <div class="submissions-container">
                        <div class="section-header">
                            <h2>Entregas de Tareas</h2>
                            <div class="filters">
                                <select id="taskFilter">
                                    <option value="">Todas las tareas</option>
                                    <option value="1">Presentación Grupal BD</option>
                                </select>
                                <select id="statusFilter">
                                    <option value="">Todos los estados</option>
                                    <option value="entregada">Entregada</option>
                                    <option value="tarde">Entrega tardía</option>
                                    <option value="calificada">Calificada</option>
                                    <option value="revisada">Revisada</option>
                                </select>
                            </div>
                        </div>

                        <div class="submissions-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Equipo/Estudiante</th>
                                        <th>Tarea</th>
                                        <th>Fecha de Entrega</th>
                                        <th>Estado</th>
                                        <th>Calificación</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="team-info">
                                                <strong>Equipo Alpha</strong>
                                                <small>Juan Pérez, María García, Carlos López</small>
                                            </div>
                                        </td>
                                        <td>Presentación Grupal: Conceptos Fundamentales</td>
                                        <td>
                                            <span class="date">14 Sept 2025</span>
                                            <span class="time">14:30</span>
                                        </td>
                                        <td>
                                            <span class="status-badge status-calificada">Calificada</span>
                                        </td>
                                        <td>
                                            <span class="grade">9.2</span>
                                        </td>
                                        <td>
                                            <div class="action-buttons">
                                                <button class="btn btn-sm btn-outline-primary"
                                                    onclick="reviewSubmission(1)">
                                                    <i class="fas fa-eye"></i> Ver
                                                </button>
                                                <button class="btn btn-sm btn-success" onclick="gradeSubmission(1)">
                                                    <i class="fas fa-edit"></i> Evaluar
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="team-info">
                                                <strong>Equipo Beta</strong>
                                                <small>Ana Rodríguez, Luis Martín, Sofia Chen</small>
                                            </div>
                                        </td>
                                        <td>Presentación Grupal: Conceptos Fundamentales</td>
                                        <td>
                                            <span class="date">15 Sept 2025</span>
                                            <span class="time">09:15</span>
                                        </td>
                                        <td>
                                            <span class="status-badge status-entregada">Entregada</span>
                                        </td>
                                        <td>
                                            <span class="grade pending">Pendiente</span>
                                        </td>
                                        <td>
                                            <div class="action-buttons">
                                                <button class="btn btn-sm btn-outline-primary"
                                                    onclick="reviewSubmission(2)">
                                                    <i class="fas fa-eye"></i> Ver
                                                </button>
                                                <button class="btn btn-sm btn-primary" onclick="gradeSubmission(2)">
                                                    <i class="fas fa-star"></i> Evaluar
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para Ver Rúbrica Completa -->
    <div class="modal" id="rubricModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Rúbrica de Evaluación: Conceptos Fundamentales de BD</h3>
                <button class="modal-close" onclick="closeModal('rubricModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="rubric-table-container">
                    <table class="rubric-table">
                        <thead>
                            <tr>
                                <th class="criterion-col">Criterio</th>
                                <th class="level-col">Excelente<br><span class="points">(10 pts)</span></th>
                                <th class="level-col">Muy Bueno<br><span class="points">(9 pts)</span></th>
                                <th class="level-col">Aceptable<br><span class="points">(8 pts)</span></th>
                                <th class="level-col">Regular<br><span class="points">(7 pts)</span></th>
                                <th class="level-col">Reprobatorio<br><span class="points">(≤6 pts)</span></th>
                                <th class="weight-col">Peso</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="criterion-cell">
                                    <strong>Dominio del tema</strong>
                                    <small>Conocimiento y comprensión del contenido técnico</small>
                                </td>
                                <td class="level-excellent">Demuestra dominio completo del tema. Explica conceptos con
                                    precisión técnica.</td>
                                <td class="level-very-good">Muestra buen conocimiento del tema con pequeñas
                                    imprecisiones.</td>
                                <td class="level-acceptable">Conocimiento básico con algunas confusiones menores.</td>
                                <td class="level-regular">Conocimiento limitado, dificultades con conceptos básicos.
                                </td>
                                <td class="level-failing">Conocimiento insuficiente o información incorrecta.</td>
                                <td class="weight-cell">25%</td>
                            </tr>
                            <tr>
                                <td class="criterion-cell">
                                    <strong>Participación en equipo</strong>
                                    <small>Nivel de contribución y colaboración</small>
                                </td>
                                <td class="level-excellent">Todos participan activamente y equilibradamente.</td>
                                <td class="level-very-good">Mayoría participa activamente con pequeñas diferencias.</td>
                                <td class="level-acceptable">Participación desigual pero todos contribuyen.</td>
                                <td class="level-regular">Participación muy desigual, algunos dominan.</td>
                                <td class="level-failing">Participación inadecuada, trabajo individual.</td>
                                <td class="weight-cell">20%</td>
                            </tr>
                            <!-- Más filas de criterios aquí -->
                        </tbody>
                    </table>
                </div>

                <div class="rubric-recommendations">
                    <h4><i class="fas fa-lightbulb"></i> Recomendaciones para Docentes</h4>
                    <div class="recommendation-item">
                        <h5>Qué Observar:</h5>
                        <p>Definiciones simples y correctas, ejemplos cotidianos, capacidad de responder preguntas
                            básicas.</p>
                    </div>
                    <div class="recommendation-item">
                        <h5>Retroalimentación Efectiva:</h5>
                        <p>"Excelente ejemplo del banco como base de datos", "¿Podrías dar otro ejemplo de la vida
                            diaria?"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Evaluar Entrega -->
    <div class="modal" id="gradeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Evaluar Entrega - Equipo Alpha</h3>
                <button class="modal-close" onclick="closeModal('gradeModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="evaluation-form">
                    <div class="submission-info">
                        <h4>Información de la Entrega</h4>
                        <div class="info-grid">
                            <div><strong>Tarea:</strong> Presentación Grupal: Conceptos Fundamentales</div>
                            <div><strong>Fecha:</strong> 14 Sept 2025, 14:30</div>
                            <div><strong>Integrantes:</strong> Juan Pérez, María García, Carlos López</div>
                            <div><strong>Estado:</strong> <span class="status-badge status-entregada">Entregada</span>
                            </div>
                        </div>
                    </div>

                    <div class="rubric-evaluation">
                        <h4>Evaluación por Rúbrica</h4>

                        <!-- Criterio 1 -->
                        <div class="criterion-evaluation">
                            <div class="criterion-header">
                                <h5>Dominio del tema (25%)</h5>
                                <span class="points-display">Puntos: <span id="criterion1Points">0</span>/10</span>
                            </div>
                            <div class="level-options">
                                <label class="level-option">
                                    <input type="radio" name="criterion1" value="10" data-points="10">
                                    <span class="level-badge level-excellent">Excelente (10)</span>
                                </label>
                                <label class="level-option">
                                    <input type="radio" name="criterion1" value="9" data-points="9">
                                    <span class="level-badge level-very-good">Muy bueno (9)</span>
                                </label>
                                <label class="level-option">
                                    <input type="radio" name="criterion1" value="8" data-points="8">
                                    <span class="level-badge level-acceptable">Aceptable (8)</span>
                                </label>
                                <label class="level-option">
                                    <input type="radio" name="criterion1" value="7" data-points="7">
                                    <span class="level-badge level-regular">Regular (7)</span>
                                </label>
                                <label class="level-option">
                                    <input type="radio" name="criterion1" value="6" data-points="6">
                                    <span class="level-badge level-failing">Reprobatorio (≤6)</span>
                                </label>
                            </div>
                            <textarea class="criterion-comments"
                                placeholder="Comentarios específicos para este criterio..."></textarea>
                        </div>

                        <!-- Más criterios similares aquí -->

                        <div class="evaluation-summary">
                            <div class="total-score">
                                <h4>Calificación Final: <span id="finalGrade">0.0</span>/10</h4>
                                <div class="grade-breakdown">
                                    <small>Desglose por criterios calculado automáticamente</small>
                                </div>
                            </div>
                        </div>

                        <div class="general-comments">
                            <label for="generalComments">Comentarios Generales</label>
                            <textarea id="generalComments"
                                placeholder="Comentarios generales para el equipo..."></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('gradeModal')">Cancelar</button>
                <button class="btn btn-outline-primary" onclick="saveEvaluationDraft()">Guardar Borrador</button>
                <button class="btn btn-primary" onclick="submitEvaluation()">Guardar Evaluación</button>
            </div>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
    <script src="js/task-management.js"></script>
</body>

</html>